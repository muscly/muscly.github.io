<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

  <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🤫&lt;/text&gt;&lt;/svg&gt;">

<style>
  :root {
    font-size: 20px;
  }
</style>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3B8EKKV9YC"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3B8EKKV9YC');
</script>

  <title>AR Foundation으로 새로 태어난 건조기 몬스터,b,&nbsp;|&nbsp;Secret Wiki</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="AR Foundation으로 새로 태어난 건조기 몬스터,b,">
  
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
        <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🤫&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
      
      <span>Home</span>
    </div>
  </a>
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="happiness .html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;😀&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>행복</span>
        </div>
      </a>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;👨‍💻&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>About</span>
        </div>
      </a>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
</nav>
  <header class="Header">
    
    <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
    
    <h1 class="Header__Title">AR Foundation으로 새로 태어난 건조기 몬스터,b,</h1>
    
      <div class="DateTagBar">
        
          <span class="DateTagBar__Item DateTagBar__Date">Posted on Wed, Oct 9, 2019</span>
        
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--default">
            <a href="tag/AR.html">AR</a>
          </span>
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--brown">
            <a href="tag/ARFoundation.html">ARFoundation</a>
          </span>
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--default">
            <a href="tag/유니티3D.html">유니티3D</a>
          </span>
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--yellow">
            <a href="tag/URP.html">URP</a>
          </span>
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--pink">
            <a href="tag/아들과 2인개발.html">아들과 2인개발</a>
          </span>
        
      </div>
    
  </header>
  <article id="https://www.notion.so/8e1bb1f0b9bb43fcb4e7fdb4c6c20f17" class="PageRoot"><div id="https://www.notion.so/817486607ac04a4c875fa0870e3e1463" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fbf41c3fe-6f50-498f-b225-be6e095ebe6c%2FUntitled.png?width=696&amp;table=block&amp;id=81748660-7ac0-4a4c-875f-a0870e3e1463"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fbf41c3fe-6f50-498f-b225-be6e095ebe6c%2FUntitled.png?width=696&amp;table=block&amp;id=81748660-7ac0-4a4c-875f-a0870e3e1463" style="width:696px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/316c10243f974f3a89abb24510de6fab" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">얼마 전에 </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://twitter.com/mycodingdad/status/1180135739993911297">트위터에 AR 몬스터 동영상</a></span><span class="SemanticString">을 올렸습니다. AD님에게 “우리도 카메라로 책상 찍으면 그 안에서 몬스터 돌아다니고 그런 거 만들어 볼까?”라고 제안을 했더니 좋다고 합니다. 그렇게 AR로의 여행이 시작되었고, 이것저것 헤맨 끝에 만들어진 동영상입니다. 이번 포스팅에서는 Universal RP 환경에서 AR Foundation을 사용해서 기본적인 AR 기능을 구현하면서 알게 된 내용을 정리해보겠습니다.</span></span></p></div><h1 id="https://www.notion.so/0705f9f31ba74ab1bdbd9154c5d204cf" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/0705f9f31ba74ab1bdbd9154c5d204cf"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">AR Foundation</span></span></h1><div id="https://www.notion.so/10ac44b1a36c418485e3eb4907615429" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">안드로이드와 iOS에서는 개발자의 AR 앱 개발을 지원하기 위해서 각각 AR Core와 AR Kit을 제공합니다. 각각의 기능과 사용법이 다르므로, 유니티에서는 AR Foundation을 제공하여 같은 코드 기반으로 안드로이드와 iOS에서 동작하는 AR 게임을 만들 수 있게 해주었습니다. 물론 어느 한쪽에서만 제공하는 기능은 해당 OS에서만 사용할 수 있습니다.</span></span></p></div><div id="https://www.notion.so/8266de45093c4502addab64fbd553e95" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">아직 개발이 진행 중인 상태라서 일부 지원하지 않는 기능도 있고, 유니티 에디터와 모바일 디바이스를 연결해서 개발을 할 수 있는 </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://blogs.unity3d.com/2017/08/03/introducing-the-unity-arkit-remote/">ARKit Remote</a></span><span class="SemanticString"> 같은 기능도 새로 개발하는 중이라 AR Foundation에서는 사용할 수가 없습니다. (</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://forum.unity.com/threads/ar-remoting-simulation.720575/">이곳</a></span><span class="SemanticString">과 </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://twitter.com/DanMillerDev/status/1179209715680567296">이곳</a></span><span class="SemanticString">에서 확인했습니다. 이 링크를 찾는데도 한참 걸렸어요) 그래서, 매번 기능을 수정할 때마다 폰에 빌드를 올려서 테스트해야 해서 개발이 매우 비효율적입니다.</span></span></p></div><div id="https://www.notion.so/e941651cb53a40a0b9333d4b6ffb048f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">또, 도움말이 매우 부족해서 AR Foundation 샘플이 없으면 뭘 어떻게 해야 하는지 알기 어려울 정도입니다. 샘플을 보시는 것이 가장 빠른 방법입니다! 샘플은 </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/Unity-Technologies/arfoundation-samples">깃허브</a></span><span class="SemanticString">에 있습니다.</span></span></p></div><div id="https://www.notion.so/d9a54e2b3dcc4c7b953c8e3bb9fd6f1c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">처음에 봐야할 씬은 SimpleAR 씬입니다. 바닥과 벽을 감지하고, 화면을 터치하면 그 위에 게임오브젝트를 생성하는 가장 기본적인 샘플입니다.</span></span></p></div><h1 id="https://www.notion.so/92551d7f19dd4858becacd1429d31aaf" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/92551d7f19dd4858becacd1429d31aaf"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">렌더링</span></span></h1><div id="https://www.notion.so/ecbb925b352d4ac08bfe50d52158cba1" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">AR을 시작하면서 제일 궁금했던 부분은 라이팅 정보와 리플렉션용 큐브맵을 얻는 방법, 그리고 그림자였습니다.</span></span></p></div><div id="https://www.notion.so/99196bc2f9ce4f4fba70189b4ff7ec1f" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">우선 메인 라이팅의 방향을 얻는 방법은 없는 것 같습니다. AR Kit에서 얼굴 인식을 사용하는 경우에는 인식된 얼굴을 프로브로 사용해서 라이팅의 방향을 얻어주는 기능이 있지만, 그 외에는 방법을 찾을 수가 없었습니다.</span></span></p></div><div id="https://www.notion.so/26211d9680104026871240e5f3caa5a3" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">라이팅의 밝기나 색상 등의 정보는 AR Foundation에서 제공합니다. 샘플의 LightEstimation 씬을 열어보시면 라이팅 값을 얻어서 메인 라이트에 적용하는 코드를 볼 수 있습니다. 주변의 라이트를 정확하게 표현한다기보다는 방에 불을 켜고 껐을 때 이질감이 없을 정도로 동작합니다.</span></span></p></div><div id="https://www.notion.so/7d986b809c5f46e68ac92e0446dc18f7" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">리플렉션 프로브를 생성해주는 기능도 있습니다. EnvironmentProbes 씬을 참고하시면 됩니다. 이 씬을 빌드해서 실행해보면 디버깅용 쇠구슬들이 주변을 비추고 있는 것을 볼 수 있습니다.</span></span></p></div><div id="https://www.notion.so/5255c419014041fea44d1acd4b82f28b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">그림자는 투명한 바닥 오브젝트의 셰이더를 잘 구현하면 됩니다.</span></span></p></div><div id="https://www.notion.so/74d8ee0baf83479ea606868623f57ae0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">카메라에서 얻어진 텍스쳐가 그려진 상태에서 투명한 바닥 오브젝트를 그리면서 그림자 부분을 어둡게 그려주는 방식입니다. LWRP용 셰이더가 있어서 Universal RP에서 동작할 수 있게 살짝 바꿔서 </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://gist.github.com/mycodingdad/ff5cee7aa625446223b38b8bc7462849">gist</a></span><span class="SemanticString">에 올려두었습니다.</span></span></p></div><div id="https://www.notion.so/2e5e220625ee49b39ce74c8d96b88884" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">마지막으로 Universal RP를 사용할 때는 카메라의 이미지를 얻어오기 위해서 렌더 피처를 추가해줘야 합니다. 자세한 내용은 </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://forum.unity.com/threads/configuring-ar-foundation-3-0-0-preview-to-work-with-lwrp-or-urp.736583/">여기</a></span><span class="SemanticString">를 참고하세요. 렌더 피처에 대해서는 아래 포스트를 참고하시면 됩니다</span></span></p></div><div id="https://www.notion.so/f92088895ba549729784bd966bfa07df" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Resource"><a href="toon-shading-universalrp.html"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">Universal RP로 구현한 툰 셰이딩</strong></span></span></a></span></span><span class="SemanticString"> </span></span></p></div><h1 id="https://www.notion.so/ca6b000c243140fb88b4574cb341abc0" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/ca6b000c243140fb88b4574cb341abc0"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">마치며..</span></span></h1><div id="https://www.notion.so/01124519505b4249bea4a719882d0e78" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">이번 포스팅은 여기까지입니다. 다음 번 스펙을 구현하러 가야 해서 제가 헤맸던 것들만 간단히 정리해봤습니다. 마지막으로, 여러가지 노력 끝에 탄생한 AR 건조기 몬스터를 보면서 마치겠습니다.</span></span></p></div><div id="https://www.notion.so/36628cacace44105aa2d0e8816435e36" class="Embed"><div class="Embed__Content"><div class="Embed__ResponsiveContainer" style="width:854px;padding-bottom:56.20608899297424%"><iframe src="https://www.youtube.com/embed/-WhnSWtRe8g?feature=oembed" sandbox="allow-scripts allow-popups allow-forms allow-same-origin" allowfullscreen=""></iframe></div></div><p class="Embed__Caption"><span class="SemanticStringArray"></span></p></div><h1 id="https://www.notion.so/10366344b98e4c3882cc54539da8acb2" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/10366344b98e4c3882cc54539da8acb2"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Two More Things…</span></span></h1><div id="https://www.notion.so/14725fd8b97545168dda24641deff340" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">서두르다가 빠트린 내용이 있어서 추가합니다.</span></span></p></div><div id="https://www.notion.so/1e75e4e6fc544d41899309615adc534d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">하나는 카메라 이미지가 실제보다 밝게 나오는 이슈입니다. 리니어 컬러 스페이스를 사용하는 것이 영향을 줍니다. 아마도 카메라 이미지를 가져오는 렌더 피처 구현에서 이미 리니어 스페이스인 텍스쳐를 다시 한 번 감마 -&gt; 리니어 변환을 하는 것 같지만, 자세히 보지는 못했습니다. 조만간 유니티에서 패치해주겠지요.</span></span></p></div><div id="https://www.notion.so/2d381f7b487449dfa78259f0b7d58463" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">나머지 하나는 iOS용 빌드를 할 때 iOS 빌드 설정에서 Symlink Unity libraries를 선택해주면 안됩니다. 자세한 내용은 </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://forum.unity.com/threads/arfoundation-based-app-not-linking-arkit-package-correctly-in-xcode.536981/">여기</a></span><span class="SemanticString">를 참고해주세요. 또, 다른 링크 에러를 해결하기 위해서 Advertisement 패키지를 최신 버전으로 업그레이드했는데, 관련 링크를 다시 찾으려고 하니 안보이네요</span></span></p></div></article>
    
  <script src="https://utteranc.es/client.js"
        repo="muscly/utterances"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
  </script>
    
  <footer class="Footer">
  <div>&copy; Secret Wiki 2019-2021</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>
</body>

</html>
